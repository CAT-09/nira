load_all()
library(devtools)
library(roxygen2)
load_all()
document()
check_man()
document()
check()
load_all()
document()
check_man()
document()
check()
library(devtools)
library(roxygen2)
load_all()
document()
load_all()
document()
check_man()
document()
check()
build()
load_all()
library(devtools)
library(roxygen2)
load_all()
load_all()
document()
check_man()
document()
check()
build()
load_all()
document()
check_man()
document()
build()
library(devtools)
library(roxygen2)
load_all()
document()
check_man()
document()
build()
load_all()
document()
check_man()
document()
build()
load_all()
document()
check_man()
document()
build()
load_all()
document()
check_man()
document()
build()
remove.packages("niradm", lib="~/R/win-library/4.0")
library(SeedCalc)
library(niradm)
??niradm
library(devtools)
library(roxygen2)
load_all()
document()
check_man()
document()
load_all()
document()
check_man()
document()
check()
load_all()
document()
check_man()
document()
check()
build()
load("~/GitHub/niradm/data/nir_seed.RData")
View(nir_seed)
library(niradm)
vizplotmean(nir_seed)
View(nir_seed)
pca(nir_seed)
pca(nir_seed,1,2)
load_all()
document()
library(devtools)
library(roxygen2)
load_all()
document()
check_man()
document()
load_all()
document()
check_man()
document()
check()
build()
remove.packages(niradm)
remove.packages('niradm')
if(!require(niradm)) devtools::install_github("admedeiros/niradm-package")
.rs.restartR()
if(!require(devtools)) install.packages("devtools")
if(!require(niradm)) devtools::install_github("admedeiros/niradm-package")
library(niradm)
der_SG(nir_seed)
dados<-der_SG(nir_seed)
vizplotmean(dados)
vizplotraw(dados)
scale_center(dados)
dados<-scale_center(dados)
vizplotraw(dados)
dados<-der_SG(nir_seed)
dados<-scale_center(dados)
vizplotmean(dados)
dados<-scale_center(nir_seed)
vizplotmean(dados)
dados<-der_SG(dados)
vizplotraw(dados)
vizplotmean(dados)
vizplotraw(dados)
vizplotmean(dados)
vizplotraw(dados)
vizplotmean(dados)
library(niradm)
dados<-scale_center(nir_seed)
dados<-der_SG(dados)
vizplotraw(dados)
vizplotmean(dados)
library(niradm)
dados<-scale_center(nir_seed)
dados<-der_SG(dados,2)
vizplotraw(dados)
vizplotmean(dados)
library(niradm)
dados<-scale_center(nir_seed)
dados<-der_SG(dados,2,3)
vizplotraw(dados)
vizplotmean(dados)
vizplotraw(dados)
library(niradm)
dados<-scale_center(nir_seed)
dados<-der_SG(dados,2,3,13)
vizplotraw(dados)
vizplotmean(dados)
vizplotraw(dados)
library(niradm)
pca(dados)
library(niradm)
dados<-scale_center(nir_seed)
dados<-der_SG(dados,1,2,13)
vizplotraw(dados)
vizplotmean(dados)
pca(dados)
library(niradm)
nir_seed
nir_seed<-nir_seed
View(nir_seed)
vizplotraw(nir_seed)
vizplotmean(nir_seed)
dados<-scale_center(nir_seed)
vizplotmean(dados)
dados<-der_SG(nir_seed)
vizplotraw(dados)
dados<-der_SG(nir_seed,2)
vizplotraw(dados)
dados<-scale_center(nir_seed)
dados<-scale_center(nir_seed)
dados1<-der_SG(dados,1)
vizplotraw(dados1)
vizplotmean(dados1)
pca(dados1)
pca(nir_seed)
vizplotmean(dados1)
pca(dados1)
pca(nir_seed)
pca(dados1)
library(candisc)
library(ggplot2)
dados <- read.table('dados.txt', h=T, check.names = T)
View(dados)
dados$LOTE <- as.factor(dados$LOTE)
dados[,2:65] <- scale(dados[,2:65])
modelo.mlm <- lm(cbind(A1,A2,A3,A4,A5,A6,A7,A8,A9,A10,A11,A12,A13,A14,A15,A16,A17,A18,A19,A20,A21,A22,A23,A24,A25,A26,A27,A28,A29,A30,A31,A32,A33,A34,A35,A36,A37,A38,A39,A40,A41,A42,A43,A44,A45,A46,A47,A48,A49,A50,A51,A52,A53,A54,A55,A56,A57,A58,A59,A60,A61,A62,A63,A64
) ~ LOTE, data=dados)
cqplot(modelo.mlm)
View(dados)
View(dados)
dados <- read.table('dados1.txt', h=T, check.names = T)
View(dados)
View(dados)
modelo.mlm <- lm(cbind(A4,A5,A6,A7,A8,A9,A10,A11,A12
) ~ LOTE, data=dados)
cqplot(modelo.mlm)
vcan <- candisc(modelo.mlm, term='LOTE')
vcan
plot(vcan, ellipse=TRUE, var.lwd=2)
dados <- read.table('dados.txt', h=T, check.names = T)
dados <- read.table('dados.txt', h=T, check.names = T)
View(dados)
dados <- read.table('dados.txt', h=T, check.names = T)
View(dados)
modelo.mlm <- lm(cbind(A1,A2,A3,A4,A5,A6,A7,A8,A9,A10,A11,A12,A13,A14,A15,A16,A17,A18,A19,A20,A21,A22,A23,A24,A25,A26,A27,A28,A29,A30,A31,A32,A33,A34,A35,A36,A37,A38
) ~ LOTE, data=dados)
dados <- read.table('dados.txt', h=T, check.names = T)
dados$LOTE <- as.factor(dados$LOTE)
dados[,2:65] <- scale(dados[,2:65])
dados <- read.table('dados.txt', h=T, check.names = T)
dados$LOTE <- as.factor(dados$LOTE)
dados[,2:39] <- scale(dados[,2:39])
modelo.mlm <- lm(cbind(A1,A2,A3,A4,A5,A6,A7,A8,A9,A10,A11,A12,A13,A14,A15,A16,A17,A18,A19,A20,A21,A22,A23,A24,A25,A26,A27,A28,A29,A30,A31,A32,A33,A34,A35,A36,A37,A38
) ~ LOTE, data=dados)
cqplot(modelo.mlm)
vcan <- candisc(modelo.mlm, term='LOTE')
vcan
plot(vcan, ellipse=TRUE, var.lwd=2)
heplot(vcan, fill=c(TRUE, FALSE), fill.alpha=0.1, var.lwd=2)
trat_labels <- names(vcan$scores)[1]
cv_labels <- names(vcan$scores)[2]
scores<-vcan$scores
can.plot <- qplot(data=vcan$scores,
x=Can1, xlab = 'Can1 (26.0%)',
y=Can2, ylab = 'Can2 (22.7%)',
colour=get(trat_labels)) +
labs(colour='Tratamento')
can.plot
can.plot <- qplot(data=vcan$scores,
#  x=Can1, xlab = 'Can1 (26.0%)',
# y=Can2, ylab = 'Can2 (22.7%)',
colour=get(trat_labels)) +
labs(colour='Tratamento')
can.plot
can.plot <- qplot(data=vcan$scores,
x=Can1, xlab = 'Can1 (26.0%)',
y=Can2, ylab = 'Can2 (22.7%)',
colour=get(trat_labels)) +
labs(colour='Tratamento')
can.plot <- qplot(data=vcan$scores,
x=Can1, #xlab = 'Can1 (26.0%)',
y=Can2, #ylab = 'Can2 (22.7%)',
colour=get(trat_labels)) +
labs(colour='Tratamento')
can.plot
arrow.coord <- data.frame(x=0,y=0,
xend=vcan$structure[,1],yend=vcan$structure[,2],
variable=row.names(vcan$structure))
#Enlarge arrows
enlarge <- 8
arrow.coord$xend <- enlarge*arrow.coord$xend
arrow.coord$yend <- enlarge*arrow.coord$yend
p<-ggplot(scores, aes(x=Can1, y=Can2, color= LOTE)) + geom_point(size=3, alpha = 0.5)+
labs(x = "Can 1 (79.11%)",  y = "Can 2 (16.14%)")+
theme_light ()+ stat_ellipse(level = 0.95,geom = "polygon", alpha = 0.1, aes(fill = LOTE))
p +geom_segment(data=arrow.coord,
colour=I("black"),
aes(x=x,
y=y,
xend=xend,
yend=yend),
arrow = arrow(length = unit(0.5,"cm")))+
geom_text(data=arrow.coord,
colour=I("black"),
aes(x=xend,
y=yend,
label=variable,
hjust=0.5,
vjust=-0.5))
diab.can <- candisc(model.mlm)
plot(diab.can, ellipse=TRUE, var.lwd=2)
diab.can <- candisc(model.mlm)
diab.can <- candisc(model0.mlm)
diab.can <- candisc(modelo.mlm)
plot(diab.can, ellipse=TRUE, var.lwd=2)
library(readxl)
library(tidyverse)
library(cowplot)
library(ggthemes)
library(ggpubr)
library(patchwork)
library(epiR)
library(Metrics)
library(reshape2)
library(ggplot2)
theme_set(theme_minimal_grid(font_size = 15, font_family = "Arial"))
media<- read.table("mean.txt", h=T) %>%
#  mutate(lote=as.factor(Lote)) %>%
melt(id="Lote")
View(media)
sd<-read.table("sd.txt",h=T) %>%
#mutate(lote=as.factor(Lote)) %>%
melt(id="Lote")
sk<-read.table("sk.txt",h=T) %>%
#  mutate(lote=as.factor(Lote)) %>%
melt(id="Lote")
All<-media %>% mutate(sd = sd$value) %>% mutate(sk=sk$value)
rm(media)
rm(sd)
View(All)
var1 <- All %>%
filter(variable == "A1") %>%
ggplot(aes(x = Lote, y = value, fill=value)) +
geom_bar(stat='identity',  alpha = 0.8) +
scale_x_discrete(labels=c("Lote1" = "1","Lote2" = "2","Lote3" = "3","Lote4" = "4","Lote5" = "5","Lote6" = "6"))+
scale_fill_gradient(low="gray", high="black") +
labs(x = "Lot",
y = "%",
subtitle = "Free space")+
geom_text(aes(label=sk), size = 5, vjust = -1.5,position = position_dodge(0.9))+
geom_errorbar(aes(ymin=value-sd, ymax=value+sd), width=.2, position=position_dodge(.9))+
theme_light()+
theme(legend.position = "none") +
scale_y_continuous(expand = c(0,0), limits = c(0,12))#+ coord_polar()
var1
var2 <- All %>%
filter(variable == "A2") %>%
ggplot(aes(x = Lote, y = value, fill=value)) +
geom_bar(stat='identity',  alpha = 0.8) +
scale_x_discrete(labels=c("Lote1" = "1","Lote2" = "2","Lote3" = "3","Lote4" = "4","Lote5" = "5","Lote6" = "6"))+
scale_fill_gradient(low="gray", high="black") +
labs(x = "Lot",
y = "mm2",
subtitle = "Area")+
geom_text(aes(label=sk), size = 5, vjust = -1.5,position = position_dodge(0.9))+
geom_errorbar(aes(ymin=value-sd, ymax=value+sd), width=.2, position=position_dodge(.9))+
theme_light()+
theme(legend.position = "none") +
scale_y_continuous(expand = c(0,0), limits = c(0,30))#+ coord_polar()
var3 <- All %>%
filter(variable == "A3") %>%
ggplot(aes(x = Lote, y = value, fill=value)) +
geom_bar(stat='identity',  alpha = 0.8) +
scale_x_discrete(labels=c("Lote1" = "1","Lote2" = "2","Lote3" = "3","Lote4" = "4","Lote5" = "5","Lote6" = "6"))+
scale_fill_gradient(low="gray", high="black") +
labs(x = "Lot",
y = "gray pixel-1",
subtitle = "Relative density")+
geom_text(aes(label=sk), size = 5, vjust = -1.5,position = position_dodge(0.9))+
geom_errorbar(aes(ymin=value-sd, ymax=value+sd), width=.2, position=position_dodge(.9))+
theme_light()+
theme(legend.position = "none") +
scale_y_continuous(expand = c(0,0), limits = c(0,120))#+ coord_polar()
var4 <- All %>%
filter(variable == "M1") %>%
ggplot(aes(x = Lote, y = value, fill=value)) +
geom_bar(stat='identity',  alpha = 0.8) +
scale_x_discrete(labels=c("Lote1" = "1","Lote2" = "2","Lote3" = "3","Lote4" = "4","Lote5" = "5","Lote6" = "6"))+
scale_fill_gradient(low="gray", high="black") +
labs(x = "Lot",
y = "Reflectance",
subtitle = "Band 1")+
geom_text(aes(label=sk), size = 5, vjust = -1.5,position = position_dodge(0.9))+
geom_errorbar(aes(ymin=value-sd, ymax=value+sd), width=.2, position=position_dodge(.9))+
theme_light()+
theme(legend.position = "none") +
scale_y_continuous(expand = c(0,0), limits = c(0,100))#+ coord_polar()
var5 <- All %>%
filter(variable == "M2") %>%
ggplot(aes(x = Lote, y = value, fill=value)) +
geom_bar(stat='identity',  alpha = 0.8) +
scale_x_discrete(labels=c("Lote1" = "1","Lote2" = "2","Lote3" = "3","Lote4" = "4","Lote5" = "5","Lote6" = "6"))+
scale_fill_gradient(low="gray", high="black") +
labs(x = "Lot",
y = "Reflectance",
subtitle = "Band 2")+
geom_text(aes(label=sk), size = 5, vjust = -1.5,position = position_dodge(0.9))+
geom_errorbar(aes(ymin=value-sd, ymax=value+sd), width=.2, position=position_dodge(.9))+
theme_light()+
theme(legend.position = "none") +
scale_y_continuous(expand = c(0,0), limits = c(0,100))#+ coord_polar()
var6 <- All %>%
filter(variable == "M3") %>%
ggplot(aes(x = Lote, y = value, fill=value)) +
geom_bar(stat='identity',  alpha = 0.8) +
scale_x_discrete(labels=c("Lote1" = "1","Lote2" = "2","Lote3" = "3","Lote4" = "4","Lote5" = "5","Lote6" = "6"))+
scale_fill_gradient(low="gray", high="black") +
labs(x = "Lot",
y = "Reflectance",
subtitle = "Band 3")+
geom_text(aes(label=sk), size = 5, vjust = -1.5,position = position_dodge(0.9))+
geom_errorbar(aes(ymin=value-sd, ymax=value+sd), width=.2, position=position_dodge(.9))+
theme_light()+
theme(legend.position = "none") +
scale_y_continuous(expand = c(0,0), limits = c(0,100))#+ coord_polar()
var7 <- All %>%
filter(variable == "M4") %>%
ggplot(aes(x = Lote, y = value, fill=value)) +
geom_bar(stat='identity',  alpha = 0.8) +
scale_x_discrete(labels=c("Lote1" = "1","Lote2" = "2","Lote3" = "3","Lote4" = "4","Lote5" = "5","Lote6" = "6"))+
scale_fill_gradient(low="gray", high="black") +
labs(x = "Lot",
y = "Reflectance",
subtitle = "Band 4")+
geom_text(aes(label=sk), size = 5, vjust = -1.5,position = position_dodge(0.9))+
geom_errorbar(aes(ymin=value-sd, ymax=value+sd), width=.2, position=position_dodge(.9))+
theme_light()+
theme(legend.position = "none") +
scale_y_continuous(expand = c(0,0), limits = c(0,100))#+ coord_polar()
var8 <- All %>%
filter(variable == "M5") %>%
ggplot(aes(x = Lote, y = value, fill=value)) +
geom_bar(stat='identity',  alpha = 0.8) +
scale_x_discrete(labels=c("Lote1" = "1","Lote2" = "2","Lote3" = "3","Lote4" = "4","Lote5" = "5","Lote6" = "6"))+
scale_fill_gradient(low="gray", high="black") +
labs(x = "Lot",
y = "Reflectance",
subtitle = "Band 5")+
geom_text(aes(label=sk), size = 5, vjust = -1.5,position = position_dodge(0.9))+
geom_errorbar(aes(ymin=value-sd, ymax=value+sd), width=.2, position=position_dodge(.9))+
theme_light()+
theme(legend.position = "none") +
scale_y_continuous(expand = c(0,0), limits = c(0,100))#+ coord_polar()
(var1|var2|var3)/
(var31|var32|var33)
(var1|var2|var3)/
(var4|var5|var6)
